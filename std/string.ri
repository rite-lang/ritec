import std:list

pub fn join(sep: str, list: [str]) -> str
  match list
  | [] -> ""
  | [s] -> s
  | [s, ..rest] -> concat(s, sep) |> concat(_, join(sep, rest))

#[extern("intrinsic", "string_concat")]
pub fn concat(a: str, b: str) -> str
  bytes(a), bytes(b) |> list:concat |> from_bytes

#[extern("intrinsic", "string_bytes")]
pub fn bytes(a: str) -> [u8]
  panic

#[extern("intrinsic", "string_from_bytes")]
pub fn from_bytes(a: [u8]) -> str
  panic

